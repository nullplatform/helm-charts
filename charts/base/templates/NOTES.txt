1. Nullplatform base has been installed successfully!

{{- if .Values.logging.enabled }}

{{- if eq .Values.logging.mode "controller" }}
2. Logging is configured in CONTROLLER mode:
   - The nullplatform log controller DaemonSet is running
   - Logs are being collected from all pods and forwarded to configured destinations

{{- else if eq .Values.logging.mode "istio-metrics" }}
2. Logging is configured in ISTIO-METRICS mode:
   
   Prerequisites check:
   - Ensure Istio is installed with gateway API
   - Ensure Prometheus is installed in namespace: {{ .Values.logging.istioMetrics.prometheusNamespace }}
   - Ensure gateways are installed in namespace: {{ .Values.logging.istioMetrics.gatewaysNamespace }}
   
   Components deployed:
   - K8s labels exporter is running at: k8s-labels-exporter.{{ .Values.logging.istioMetrics.prometheusNamespace }}:{{ .Values.logging.istioMetrics.exporter.port }}
   - Prometheus recording rules ConfigMap created
   - Istio Telemetry and EnvoyFilter resources created for response code tracking
   
   To verify the setup:
   kubectl get deployment k8s-labels-exporter -n {{ .Values.logging.istioMetrics.prometheusNamespace }}
   kubectl get configmap prometheus-recording-rules -n {{ .Values.logging.istioMetrics.prometheusNamespace }}
   kubectl get telemetry,envoyfilter -n {{ .Values.logging.istioMetrics.gatewaysNamespace }}
   
   Enriched metrics will be available at:
   - np_requests_total_enriched
   - np_request_duration_milliseconds_bucket_enriched
   - np_request_duration_milliseconds_sum_enriched
   - np_request_duration_milliseconds_count_enriched

{{- end }}
{{- else }}
2. Logging is DISABLED
{{- end }}

{{- if .Values.gateways.enabled }}
3. Gateway API resources have been configured:
   {{- if .Values.gateway.public }}
   - Public gateway: {{ .Values.gateway.public.name }}
   {{- end }}
   {{- if .Values.gateway.internal.enabled }}
   - Internal gateway: {{ .Values.gateway.internal.name }}
   {{- end }}
{{- end }}

{{- if .Values.metricsServer.enabled }}
4. Metrics server is enabled and running
{{- end }}