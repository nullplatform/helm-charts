# Global settings
global:
  installGatewayV2Crd: true
  # Kubernetes provider (options: "oke", "gke", "eks", "aks", "aro")
  provider: "eks"
  # AWS region (applicable for EKS provider)
  awsRegion: "us-east-1"
# Namespace configurations
namespaces:
  # Namespace for Null platform resources
  nullplatformApplications: "nullplatform"
  nullplatformTools: "nullplatform-tools"
  gateway: "gateways"

ingressControllers:
  public:
    name: "internet-facing"
    enabled: true
    scope: External
    domain: ""
  private:
    name: "internal"
    enabled: true
    scope: Internal
    domain: ""
# TLS configuration
tls:
  required: true
  # Name of the TLS secret
  secretName: "wildcard-tls"
  secretPrivateName: "wildcard-tls-internal"
  # Gateway configurations
gateway:
  http:
    enabled: false
  internal:
    enabled: true
    azure_load_balancer_subnet:
    # AWS-specific configuration (EKS)
    aws:
      name: "k8s-nullplatform-internal"
      # Security Group ID for the internal gateway (restricts health check port 15021 to VPC CIDR)
      # If empty, the AWS LB Controller will create a default SG with 0.0.0.0/0 access
      securityGroups: ""
    # Azure-specific configuration (AKS)
    azure:
      # Network Security Group ID for the internal gateway
      # If empty, Azure will create default rules
      networkSecurityGroup: ""
    # GCP-specific configuration (GKE)
    gcp:
      # Firewall rule name for the internal gateway
      # If empty, GCP will use default firewall rules
      firewallRule: ""
    # OCI-specific configuration (OKE)
    oci:
      # Load balancer type: "lb" (Layer 7) or "nlb" (Layer 4 Network Load Balancer)
      loadBalancerType: "lb"
      # Shape of the load balancer: "flexible", "100Mbps", "400Mbps", "8000Mbps"
      shape: "flexible"
      # Flexible shape bandwidth (only applicable when shape is "flexible")
      shapeFlexMin: "10"
      shapeFlexMax: "100"
      # Subnet OCID for the load balancer (optional, uses default if empty)
      subnet: ""
      # Security list management mode: "All", "Frontend", "None"
      securityListManagementMode: "None"
      # Network Security Group OCIDs (comma-separated, optional)
      networkSecurityGroupIds: ""
    # loadBalancerSourceRanges restricts traffic to specified CIDRs (works on Azure/GCP)
    # For internal gateway, this should be set to VNet/VPC CIDR
    # Example: ["10.0.0.0/16"]
    loadBalancerSourceRanges: []
    name: "gateway-private"
    addresses: {}
    autoscaling:
      minReplicas: 2
      maxReplicas: 10
    loadBalancerType: "internal"  # internal, external
  public:
    name: "gateway-public"
    # AWS-specific configuration (EKS)
    aws:
      name: "k8s-nullplatform-internet-facing"
      # Security Group ID for the public gateway (restricts health check port 15021 to VPC CIDR while allowing 443 from internet)
      # If empty, the AWS LB Controller will create a default SG with 0.0.0.0/0 access on all ports
      securityGroups: ""
    # Azure-specific configuration (AKS)
    azure:
      # Network Security Group ID for the public gateway
      # If empty, Azure will create default rules
      networkSecurityGroup: ""
    # GCP-specific configuration (GKE)
    gcp:
      # Firewall rule name for the public gateway
      # If empty, GCP will use default firewall rules
      firewallRule: ""
    # OCI-specific configuration (OKE)
    oci:
      # Load balancer type: "lb" (Layer 7) or "nlb" (Layer 4 Network Load Balancer)
      loadBalancerType: "lb"
      # Shape of the load balancer: "flexible", "100Mbps", "400Mbps", "8000Mbps"
      shape: "flexible"
      # Flexible shape bandwidth (only applicable when shape is "flexible")
      shapeFlexMin: "10"
      shapeFlexMax: "100"
      # Subnet OCID for the load balancer (optional, uses default if empty)
      subnet: ""
      # Security list management mode: "All", "Frontend", "None"
      securityListManagementMode: "None"
      # Network Security Group OCIDs (comma-separated, optional)
      networkSecurityGroupIds: ""
    # loadBalancerSourceRanges restricts traffic to specified CIDRs (works on Azure/GCP)
    # For public gateway with health check restriction, use firewall/NSG rules instead
    # This field is mainly for the private gateway scenario on Azure/GCP
    loadBalancerSourceRanges: []
    addresses: {}
    autoscaling:
      minReplicas: 2
      maxReplicas: 10
    loadBalancerType: "external"  # internal, external
# Nullplatform configurations
nullplatform:
  apiKey: ""
  secretName: "" #If provided will mount it from an existing secret
# Logging configurations
controlPlane:
  enabled: false
  agent:
    image: "public.ecr.aws/nullplatform/controlplane-agent:latest"
    resources:
      requests:
        cpu: 50m
        memory: 100Mi
      limits:
        cpu: 100m
        memory: 150Mi
logging:
  enabled: true
  streams:
    enabled: false
    mountPath: "/etc/null-logs/streams-dd.conf"
    subPath: "streams-dd.conf"
  streamsConfigMapName: "streams-dd-config"
  controller:
    image: "public.ecr.aws/nullplatform/k8s-logs-controller:latest"
    resources:
      requests:
        cpu: 100m
        memory: 200Mi
      limits:
        cpu: 700m
        memory: 300Mi
  prometheus:
    enabled: false
    exporterPort: 2021
  gelf:
    enabled: false
    host: ""
    port: ""
  loki:
    enabled: false
    host: ""
    port: ""
    user: ""
    password: ""
    bearerToken: ""
    matchRegex: "container.*.application"
  dynatrace:
    enabled: false
    apiKey: ""
    environmentId: ""
  datadog:
    enabled: true
    apiKey: ""
    region: ""
  newrelic:
    enabled: false
    licenseKey: ""
    region: ""
# CloudWatch configuration
cloudwatch:
  enabled: false
  region: us-east-1
  retentionDays: 7
  logs:
    enabled: true
  performanceMetrics:
    enabled: true
  customMetrics:
    enabled: true
  accessLogs:
    enabled: false
# Metrics server configuration
metricsServer:
  enabled: true
# Gateway API configuration
gateways:
  enabled: true
gatewayAPI:
  enabled: true
  crds:
    install: true
# Image pull secret configuration
imagePullSecrets:
  enabled: false
  name: image-pull-secret-nullplatform
  registry: ""
  username: ""
  password: ""
envoy:
  filters:
    preserveExternalRequestId:
      enabled: false
customConf:
  enabled: false
  configMapName: ""
